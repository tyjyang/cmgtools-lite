# with the goodMuonsCharge RVec object, which is created with appropriate configurations and used as RDataFrame::Define and RDataFrame::Alias, it is no longer needed to distinguish the variable to be plotted between W and Z_wlike analyses
# Muon_pt[goodMuonsCharge][0] will always be the first muon with the selected charge and passing predefined selection criteria, for W it might be the only muon in the event, for Z it will automatically be the one with desired charge
# the same is valid for most of the functions

#zptWeight: scetlibWeightsZscalar: 100,0.9,1.1; XTitle="ZpT weights", Legend='TR'

dummy: 0.5: 1,0,1; XTitle="dummy variable", Legend='TR'

runNumber: run : 10887,273157.5,284044.5; XTitle="Run number", Legend='TR'

max_muon_abseta: Max(absoluteValue(Muon_eta[goodMuons])) : 48,0,2.4; XTitle="Max of absolute #eta1\,#eta2", Legend='TR', IncludeOverflows=True
min_muon_abseta: Min(absoluteValue(Muon_eta[goodMuons])) : 48,0,2.4; XTitle="Min of absolute #eta1\,#eta2", Legend='TR', IncludeOverflows=True

custom_muon_pt: custom_Muon_pt[goodMuonsCharge][0]: 40,20,60; XTitle="Muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

custom_muon_pt_eta: custom_Muon_pt[goodMuonsCharge][0]\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,29,26,55 ; XTitle='Muon #eta', YTitle='Muon p_{T} (GeV)', Legend='TR'


muon_pt: Muon_pt[goodMuonsCharge][0]: 55,25,80; XTitle="Muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_pt_all: Muon_pt[goodMuons]: 55,25,80; XTitle="Both muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_eta: Muon_eta[goodMuonsCharge][0]: 24,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

muon_eta_all: Muon_eta[goodMuons]: 48,-2.4,2.4; XTitle="Both muon #eta", Legend='TC', IncludeOverflows=True

muon_eta_rebin_all: Muon_eta[goodMuons]: 24,-2.4,2.4; XTitle="Both muon #eta", Legend='TC', IncludeOverflows=True

muon_eta_fine: Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

muon_iso04: Muon_pfRelIso04_all[goodMuonsCharge][0]: 32,0.0,0.16; XTitle="Muon PF isolation (#DeltaR 0.4)", Legend='TR', IncludeOverflows=True, Logy=True

muon_iso04_other: Muon_pfRelIso04_all[goodMuonsOther][0]: 32,0.0,0.16; XTitle="Other muon PF isolation (#DeltaR 0.4)", Legend='TR', IncludeOverflows=True, Logy=True

muon_iso03: Muon_pfRelIso03_all[goodMuonsCharge][0]: 32,0.0,0.16; XTitle="Muon PF isolation (#DeltaR 0.3)", Legend='TR', IncludeOverflows=True, Logy=True

muon_iso03_other: Muon_pfRelIso03_all[goodMuonsOther][0]: 32,0.0,0.16; XTitle="Other muon PF isolation (#DeltaR 0.3)", Legend='TR', IncludeOverflows=True, Logy=True

muon_iso03_chg: Muon_pfRelIso03_chg[goodMuonsCharge][0]: 32,0.0,0.16; XTitle="Muon charged PF isol (#DeltaR 0.3)", Legend='TR', IncludeOverflows=True, Logy=True, RMin=0.85, RMax=1.1

muon_iso03_chg_other: Muon_pfRelIso03_chg[goodMuonsOther][0]: 32,0.0,0.16; XTitle="Other muon charged PF isol (#DeltaR 0.3)", Legend='TR', IncludeOverflows=True, Logy=True, RMin=0.85, RMax=1.1

dR_mumu: deltaR(Muon_eta[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0],Muon_eta[goodMuonsOther][0],Muon_phi[goodMuonsOther][0]):50,0.0,5.0; XTitle='#DeltaR(#mu\,#mu)', Legend='TR', IncludeOverflows=True

muon_nTrackerLayers: Muon_nTrackerLayers[goodMuonsCharge][0]: 20,-0.5,19.5; XTitle="Muon number of tracker layers", Legend='TR', IncludeOverflows=True, RMin=0.8, RMax=1.2

muon_dzUnzoom: Muon_dz[goodMuonsCharge][0]: 200,-10.0,10.0; XTitle="Muon dz (cm)", Legend='TR', IncludeOverflows=True, Logy=True
#, RMin=0.2, RMax=2.5

muon_dz: Muon_dz[goodMuonsCharge][0]: 100,-0.25,0.25; XTitle="Muon dz (cm)", Legend='TR', IncludeOverflows=False, Logy=True
#, RMin=0.5, RMax=1.5

muon_dxy: Muon_dxy[goodMuonsCharge][0]: 50,-0.05,0.05; XTitle="Muon dxy (cm)", Legend='TR', IncludeOverflows=True, Logy=True, RMin=0.5, RMax=1.5

muon_dz_largeyZ: Muon_dz[goodMuonsCharge][0]*if3(std\:\:abs(rapidity(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons]))>2.0,1.0,-99999): 100,-10.0,10.0; XTitle="Muon dz (cm)", Legend='TR', Logy=True, RMin=0.2, RMax=2.5

#muon_Z_eta: PV_z+Muon_dz[goodMuonsCharge][0]\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,30,-15,15; XTitle='Muon #eta', YTitle="PV_z + Muon dz (cm)", Legend='TR', IncludeOverflows=True, RMin=0.1, RMax=1.6

muon_Z_eta: PV_z+Muon_dz[goodMuonsCharge][0]\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,30,-15,15; XTitle='Muon #eta', YTitle="PV_z + Muon dz (cm)", Legend='TR', IncludeOverflows=True, RMin=0.1, RMax=1.6

muon_Z_npv: PV_z+Muon_dz[goodMuonsCharge][0]\:PV_npvsGood: 25,0,50,30,-15,15; XTitle='Number of reconstructed vertices', YTitle="PV_z + Muon dz (cm)", Legend='TR', IncludeOverflows=True, RMin=0.5, RMax=1.5, Logz=True

muon_pt_eta: Muon_pt[goodMuonsCharge][0]\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,29,26,55 ; XTitle='Muon #eta', YTitle='Muon p_{T} (GeV)', Legend='TR'

muon_pt_eta_other: Muon_pt[goodMuonsOther][0]\:Muon_eta[goodMuonsOther][0]: 48,-2.4,2.4,29,26,55 ; XTitle='Other muon #eta', YTitle='Other muon p_{T} (GeV)', Legend='TR'

muon_pt_other: Muon_pt[goodMuonsOther][0]: 55,25,80; XTitle="Other muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_pt_other_lowPt: Muon_pt[goodMuonsOther][0]: 70,10,80; XTitle="Other muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_eta_other: Muon_eta[goodMuonsOther][0]: 24,-2.4,2.4; XTitle="Other muon #eta", Legend='TC', IncludeOverflows=True

muon_eta_other_fine: Muon_eta[goodMuonsOther][0]: 48,-2.4,2.4; XTitle="Other muon #eta", Legend='TC', IncludeOverflows=True

muon_pt_eta_rebin: Muon_pt[goodMuonsCharge][0]\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,14,26,54 ; XTitle='Muon #eta', YTitle='Muon p_{T} (GeV)', Legend='TR'

muon_pt_eta_other_rebin: Muon_pt[goodMuonsOther][0]\:Muon_eta[goodMuonsOther][0]: 48,-2.4,2.4,14,26,54 ; XTitle='Other muon #eta', YTitle='Other muon p_{T} (GeV)', Legend='TR'

MET_T1_pt: MET_pt: 40,0,80; XTitle="T1MET (GeV)", Legend='TC', IncludeOverflows=True

MET_pt: MET_pt: 50,0,100; XTitle="MET (GeV)", Legend='TC', IncludeOverflows=True

deltaPhi_MuMet: deltaPhi(Muon_phi[goodMuonsCharge][0],MET_phi): 64,-3.2,3.2; XTitle="#Delta#phi(#mu\,MET)", Legend='TC', Logy=True

mt_T1MET: mt_2(Muon_pt[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0],MET_T1_pt,MET_T1_phi): 60,0,120; XTitle="m_{T}(#mu\,T1MET) (GeV)", Legend='TC', IncludeOverflows=True

mt_wlike_MET: mt_wlike_nano(Muon_pt[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0],Muon_pt[goodMuonsOther][0],Muon_phi[goodMuonsOther][0],MET_pt,MET_phi): 70,0,140; XTitle="W-like m_{T}(#mu\,MET) (GeV)", Legend='TC', IncludeOverflows=True

mt_wlikeSS_MET: mt_wlike_nano(Muon_pt[goodMuons][0],Muon_phi[goodMuons][0],Muon_pt[goodMuons][1],Muon_phi[goodMuons][1],MET_pt,MET_phi): 70,0,140; XTitle="W-like m_{T}(#mu\,MET) (GeV)", Legend='TC', IncludeOverflows=True

mt_wlikeSS_MET_all: mt_wlikeSS_nano(Muon_pt[goodMuons],Muon_phi[goodMuons],MET_pt,MET_phi): 70,0,140; XTitle="W-like m_{T}(#mu\,MET) (GeV) (both)", Legend='TC', IncludeOverflows=True

met_wlike_MET: lepPlusMetPt(Muon_pt[goodMuonsOther][0],Muon_phi[goodMuonsOther][0],MET_pt,MET_phi): 50,0,100; XTitle="W-like MET (#mu\, MET) (GeV)", Legend='TC', IncludeOverflows=True

met_wlikeSS_MET: lepPlusMetPt(Muon_pt[goodMuons][1],Muon_phi[goodMuons][1],MET_pt,MET_phi): 50,0,100; XTitle="W-like MET (#mu\, MET) (GeV)", Legend='TC', IncludeOverflows=True

met_wlikeSS_MET_all: lepPlusMetPt_allLep(Muon_pt[goodMuons],Muon_phi[goodMuons],MET_pt,MET_phi): 50,0,100; XTitle="W-like MET (#mu\, MET) (GeV) (both)", Legend='TC', IncludeOverflows=True

mt_wlike_T1MET: mt_wlike_nano(Muon_pt[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0],Muon_pt[goodMuonsOther][0],Muon_phi[goodMuonsOther][0],MET_T1_pt,MET_T1_phi): 60,0,120; XTitle="W-like m_{T}(#mu\,T1MET) (GeV)", Legend='TC', IncludeOverflows=True

zpt : transversemomentum(Muon_pt[goodMuons],Muon_phi[goodMuons]): 50,0,100 ; XTitle="reco Z p_{T} (GeV)", Legend='TR',IncludeOverflows=True, RMin=0.9, RMax=1.1

zy : rapidity(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons]): 48,-2.4,2.4 ; XTitle="reco Z rapidity", Legend='TR',IncludeOverflows=True

zpt_zy : transversemomentum(Muon_pt[goodMuons],Muon_phi[goodMuons])\:rapidity(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons]): 48,-2.4,2.4,50,0,100;  XTitle="reco Z rapidity", YTitle="reco Z p_{T} (GeV)"

zmass_zy : invariantmass(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons])\:rapidity(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons]): 48,-2.4,2.4,60,60,120;  XTitle="reco Z rapidity", YTitle="Z mass (GeV)"

zmass_eta : invariantmass(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons])\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,60,60,120;  XTitle="muon #eta", YTitle="Z mass (GeV)"

zmass_etaOther : invariantmass(Muon_pt[vetoMuons],Muon_eta[vetoMuons],Muon_phi[vetoMuons],Muon_mass[vetoMuons])\:Muon_eta[vetoMuonsOther][0]: 48,-2.4,2.4,60,60,120;  XTitle="muon #eta", YTitle="Z mass (GeV)"


muondz_zy: Muon_dz[goodMuonsCharge][0]\:rapidity(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons]): 48,-2.4,2.4,200,-10.0,10.0; XTitle="reco Z rapidity", YTitle="Muon dz (cm)", Legend='TR', IncludeOverflows=True, Logy=True, RMin=0.5, RMax=2.0

nJetClean: Sum(goodCleanJets): 6,-0.5,5.5 ; XTitle="number of jets (cleaned)", Legend='TR'

leadJetClean_pt: Jet_pt[goodCleanJets][0]: 75,25,100 ; XTitle="leading jet p_{T} (GeV)", Legend='TR'

leadJetClean_eta: Jet_eta[goodCleanJets][0]: 80,-4.0,4.0 ; XTitle="leading jet #eta", Legend='TR', IncludeOverflows=True

jeteta_muoneta: Jet_eta[Jet_MuonClean_jetIdx[0]]\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,70,-3.5,3.5 ; XTitle='muon #eta', YTitle='Jet #eta', Legend='TR'

jetpt_muonpt: Jet_pt[Jet_MuonClean_jetIdx[0]]\:Muon_pt[goodMuonsCharge][0]: 29,26,55,50,20,70 ; XTitle='muon p_{T} (GeV)', YTitle='Leading jet p_{T} (GeV)', Legend='TR'

deta_jetmu: Jet_eta[goodCleanJets][0]-Muon_eta[goodMuonsCharge][0]:50,-5.0,5.0; XTitle='jet #eta - muon #eta', Legend='TR'

dR_jetmu: deltaR(Jet_eta[goodCleanJets][0],Jet_phi[goodCleanJets][0],Muon_eta[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0]):50,0.0,5.0; XTitle='#DeltaR(jet #eta\, muon #eta)', Legend='TR', IncludeOverflows=True

# other vars not often used

vertex_z: PV_z: 150,-15.0,15.0; XTitle='primary vertex z (cm)', Legend='TR', IncludeOverflows=True, RMin=0.25, RMax=1.25

muonZ: PV_z + Muon_dz[goodMuonsCharge][0]: 150,-15,15; XTitle="PV_z + Muon dz (cm)", Legend='TR', IncludeOverflows=False, Logy=True, RMin=0.1, RMax=1.6

nJet : nJet: 6,-0.5,5.5 ; XTitle="number of jets", Legend='TR'

nmuon: nMuon: 4,-0.5,3.5 ; XTitle="number of muons", Legend='TR', IncludeOverflows=True

mt_ChsMET: mt_2(Muon_pt[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0],ChsMET_pt,ChsMET_phi): 50,20,120; XTitle="m_{T}(#mu\,ChsMET) (GeV)", Legend='TC', IncludeOverflows=True

mt_MET: mt_2(Muon_pt[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0],MET_pt,MET_phi): 70,0,140; XTitle="m_{T}(#mu\,MET) (GeV)", Legend='TC', IncludeOverflows=True

mt_DeepMetRespTune: mt_2(Muon_pt[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0],DeepMETResponseTune_pt,DeepMETResponseTune_phi): 50,20,120; XTitle="m_{T}(#mu\,DeepMETResponseTune) (GeV)", Legend='TC', IncludeOverflows=True

mt_DeepMetResoTune: mt_2(Muon_pt[goodMuonsCharge][0],Muon_phi[goodMuonsCharge][0],DeepMETResolutionTune_pt,DeepMETResolutionTune_phi): 50,20,120; XTitle="m_{T}(#mu\,DeepMETResolutionTune) (GeV)", Legend='TC', IncludeOverflows=True

ChsMET_pt: ChsMET_pt: 40,0,80; XTitle="ChsMET (GeV)", Legend='TC', IncludeOverflows=True

muon_pt_eta_phi: Muon_phi[goodMuonsCharge][0]\:Muon_pt[goodMuonsCharge][0]\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,34,26,60,20,-3.14,3.14 ; XTitle='muon #eta', YTitle='muon p_{T} (GeV)', ZTitle='muon phi', Legend='TR'

PV_z: PV_z: 100,-20,20; XTitle="Primary vertex z (cm)", Legend='TC', IncludeOverflows=True

OtherPV_z: OtherPV_z: 100,-20,20; XTitle="Other primary vertex z (cm)", Legend='TC', IncludeOverflows=True


## W like variables
# should be no longer needed, but kept for reference for the moment (definition might be outdated)

muon_pt_wlike: returnChargeVal(Muon_pt[0],Muon_charge[0],Muon_pt[1],Muon_charge[1],event): 30,25,55; XTitle="Muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_pt_goodMu_wlike: returnChargeVal(Muon_pt[goodMuons][0],Muon_charge[goodMuons][0],Muon_pt[goodMuons][1],Muon_charge[goodMuons][1],event): 30,25,55; XTitle="Muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_eta_wlike: returnChargeVal(Muon_eta[0],Muon_charge[0],Muon_eta[1],Muon_charge[1],event): 48,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

muon_eta_wlike_rebin: returnChargeVal(Muon_eta[0],Muon_charge[0],Muon_eta[1],Muon_charge[1],event): 24,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

muon_eta_goodMu_wlike: returnChargeVal(Muon_eta[goodMuons][0],Muon_charge[goodMuons][0],Muon_eta[goodMuons][1],Muon_charge[goodMuons][1],event): 24,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

muon_pt_wlike_other: returnChargeVal(Muon_pt[0],Muon_charge[1],Muon_pt[1],Muon_charge[0],event): 30,25,55; XTitle="Other muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_eta_wlike_other: returnChargeVal(Muon_eta[0],Muon_charge[1],Muon_eta[1],Muon_charge[0],event): 48,-2.4,2.4; XTitle="Other muon #eta", Legend='TC', IncludeOverflows=True

muon_eta_wlike_rebin_other: returnChargeVal(Muon_eta[0],Muon_charge[1],Muon_eta[1],Muon_charge[0],event): 24,-2.4,2.4; XTitle="Other muon #eta", Legend='TC', IncludeOverflows=True

muon_pt_eta_wlike: returnChargeVal(Muon_pt[0],Muon_charge[0],Muon_pt[1],Muon_charge[1],event)\:returnChargeVal(Muon_eta[0],Muon_charge[0],Muon_eta[1],Muon_charge[1],event): 24,-2.4,2.4,29,26,55 ; XTitle='muon #eta', YTitle='muon p_{T} (GeV)', Legend='TR'

mt_wlike_ChsMET: mt_wlike(Muon_pt[0],Muon_phi[0],Muon_charge[0],Muon_pt[1],Muon_phi[1],Muon_charge[1],ChsMET_pt,ChsMET_phi,event): 60,0,120; XTitle="W-like m_{T}(#mu\,ChsMET) (GeV)", Legend='TC', IncludeOverflows=True


#zmass  : mass_2(Muon_pt[goodMuons][0],Muon_eta[goodMuons][0],Muon_phi[goodMuons][0],0.1057128,Muon_pt[goodMuons][1],Muon_eta[goodMuons][1],Muon_phi[goodMuons][1],0.1057128): 60,60,120; XTitle="reco Z mass (GeV)", Legend='TC', IncludeOverflows=True

#zpt : pt_2(Muon_pt[goodMuons][0],Muon_phi[goodMuons][0],Muon_pt[goodMuons][1],Muon_phi[goodMuons][1]): 50,0,100 ; XTitle="reco Z p_{T} (GeV)", Legend='TR'

#zy : rapidity_2(Muon_pt[goodMuons][0],Muon_eta[goodMuons][0],Muon_phi[goodMuons][0],0.1057128,Muon_pt[goodMuons][1],Muon_eta[goodMuons][1],Muon_phi[goodMuons][1],0.1057128): 50,-2.5,2.5 ; XTitle="reco Z rapidity", Legend='TR'

zmass  : invariantmass(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons]): 60,60,120; XTitle="reco Z mass (GeV)", Legend='TC', IncludeOverflows=True, RMin=0.9, RMax=1.1
testzmass  : invariantmass(Muon_pt[goodMuons],Muon_eta[goodMuons],Muon_phi[goodMuons],Muon_mass[goodMuons]): 60,60,120; XTitle="reco Z mass (GeV)", Legend='TC', IncludeOverflows=True, RMin=0.9, RMax=1.1, ReplaceCutByName="mZ->valueInsideRange(invariantmass(Muon_pt[goodMuons]\,Muon_eta[goodMuons]\,Muon_phi[goodMuons]\,Muon_mass[goodMuons])\, 85.\, 95.)"

zmassveto  : invariantmass(Muon_pt[vetoMuons],Muon_eta[vetoMuons],Muon_phi[vetoMuons],Muon_mass[vetoMuons]): 60,60,120; XTitle="reco Z mass (GeV)", Legend='TC', IncludeOverflows=True, RMin=0.9, RMax=1.1

# other test stuff

muon_pt_ss: Muon_pt: 35,25,60; XTitle="Muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_eta_ss: Muon_eta: 48,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

deltaRgenMu: deltaR(GenPart_eta[GenPart_preFSRLepIdx1],GenPart_phi[GenPart_preFSRLepIdx1],GenPart_eta[GenPart_preFSRLepIdx2],GenPart_phi[GenPart_preFSRLepIdx2]): 80,0,4; XTitle="#DeltaR(#mu\,#mu) (dressed gen muons)", Legend='TC', IncludeOverflows=True

# eta and pt of gen muon from Z that was not reconstructed when selecting events in W phase space

genMuFailReco_eta: varGenLepFailReco(Muon_pdgId[0], GenPart_pdgId[GenPart_preFSRLepIdx1], GenPart_eta[GenPart_preFSRLepIdx1], GenPart_eta[GenPart_preFSRLepIdx2]): 80,-4.0,4.0; XTitle="gen muon #eta (failed reco)", Legend='TC', IncludeOverflows=True

genMuFailReco_pt: varGenLepFailReco(Muon_pdgId[0], GenPart_pdgId[GenPart_preFSRLepIdx1], GenPart_pt[GenPart_preFSRLepIdx1], GenPart_pt[GenPart_preFSRLepIdx2]): 35,20,80; XTitle="gen muon p_{T} (GeV) (failed reco)", Legend='TC', IncludeOverflows=True

genMuFailReco_pt_eta: varGenLepFailReco(Muon_pdgId[0], GenPart_pdgId[GenPart_preFSRLepIdx1], GenPart_pt[GenPart_preFSRLepIdx1], GenPart_pt[GenPart_preFSRLepIdx2])\:varGenLepFailReco(Muon_pdgId[0], GenPart_pdgId[GenPart_preFSRLepIdx1], GenPart_eta[GenPart_preFSRLepIdx1], GenPart_eta[GenPart_preFSRLepIdx2]) : 80,-4.0,4.0,35,20,80; XTitle="gen muon #eta (failed reco)", YTitle="gen muon p_{T} (GeV) (failed reco)", Legend='TC', IncludeOverflows=True

###
# for PU profile

Pileup_nTrueInt: Pileup_nTrueInt: 100,0,100; XTitle="Pileup_nTrueInt", Legend='TC', IncludeOverflows=False

PV_npvsGood: PV_npvsGood: 50,0,50; XTitle="PV_npvsGood", Legend='TC', IncludeOverflows=True, RMin=0.5, RMax=1.5

####
# for vertex study

dzVertex_gen_primary__Wpt: (GenVtx_z-PV_z)\:ptVgen : 50,0,100,200,-1.0,1.0; YTitle="vertex #Deltaz (gen-reco) [cm]",XTitle="W-p_{T} (preFSR) [GeV]", Legend='TC', IncludeOverflows=False

dzVertex_gen_primary__dressedLepPt: (GenVtx_z-PV_z)\:GenPart_pt[genPrefsrMuons][0]: 74,26,100,200,-1.0,1.0; YTitle="vertex #Deltaz (gen-reco) [cm]",XTitle=" leading preFSR muon p_{T} [GeV]", Legend='TC', IncludeOverflows=False

####
# some gen vars
bosonPt : ptVgen: 50,0,100 ; XTitle="PreFSR boson p_{T} (GeV)", Legend='TR'

####################
# for lep veto study
bareMuon_pt_passReco: GenPart_pt[bareMuonsCharge][0]: 65,0,65 ; XTitle='bare muon p_{T} (passed reco) (GeV)', Legend='TR'
bareMuon_eta_passReco: GenPart_eta[bareMuonsCharge][0]: 80,-4.0,4.0; XTitle='bare muon #eta (passed reco)', Legend='TR'
bareMuon_pt_eta_passReco: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 80,-4.0,4.0,65,0,65 ; XTitle='bare muon #eta (passed reco)', YTitle='bare muon p_{T} (passed reco) (GeV)', Legend='TR'


bareMuon_pt_failReco: GenPart_pt[bareMuonsOther][0]: 65,0,65 ; XTitle='bare muon p_{T} (failed reco) (GeV)', Legend='TR'
bareMuon_eta_failReco: GenPart_eta[bareMuonsOther][0]: 80,-4.0,4.0; XTitle='bare muon #eta (failed reco)', Legend='TR'
bareMuon_pt_eta_failReco: GenPart_pt[bareMuonsOther][0]\:GenPart_eta[bareMuonsOther][0]: 80,-4.0,4.0,65,0,65 ; XTitle='bare muon #eta (failed reco)', YTitle='bare muon p_{T} (failed reco) (GeV)', Legend='TR'

failVetoMuon_pt: Muon_pt[failVetoMuons][0]: 65,0,65 ; XTitle='leading failing veto muon p_{T} (GeV)', Legend='TR'
failVetoMuon_eta: Muon_eta[failVetoMuons][0]: 60,-3.0,3.0; XTitle='leading failing muon #eta ', Legend='TR'

nGenMuInAcc: Sum(bareMuons): 5,-0.5,4.5; XTitle="number of gen muons in acceptance", Legend='TC', IncludeOverflows=True, RMin=0.5, RMax=1.5, Logy=True
nFailVetoMuons: Sum(failVetoMuons): 5,-0.5,4.5; XTitle="number of muons failing veto", Legend='TC', IncludeOverflows=True, RMin=0.5, RMax=1.5, Logy=True

####################

nBareMuonsPlus: Sum(bareMuonsPlus): 4,-0.5,3.5 ; XTitle='number of positive bare muons', Legend='TR', Logy=True
nBareMuonsMinus: Sum(bareMuonsMinus): 4,-0.5,3.5 ; XTitle='number of negative bare muons', Legend='TR', Logy=True


bareMuon_pt_eta_fullPtRange: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,130,0,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR'

bareMuon_pt_eta_fullPtRange__veto: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,130,0,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(vetoMuons)>0 && minDeltaR2many(Muon_eta[vetoMuons]\,Muon_phi[vetoMuons]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"


bareMuon_pt_eta: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR'

bareMuon_pt_eta_other: GenPart_pt[bareMuonsOther][0]\:GenPart_eta[bareMuonsOther][0]: 48,-2.4,2.4,90,20,65 ; XTitle='other bare muon #eta', YTitle='other bare muon p_{T} (GeV)', Legend='TR'

bareMuonPlus_pt_eta: GenPart_pt[bareMuonsPlus][0]\:GenPart_eta[bareMuonsPlus][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare #mu^{+} #eta', YTitle='bare #mu^{+} p_{T} (GeV)', Legend='TR'

bareMuonMinus_pt_eta: GenPart_pt[bareMuonsMinus][0]\:GenPart_eta[bareMuonsMinus][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare #mu^{-} #eta', YTitle='bare #mu^{-} p_{T} (GeV)', Legend='TR'


bareMuon_pt_eta__accept: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_accept)>0 && minDeltaR2many(Muon_eta[goodMuons_accept]\,Muon_phi[goodMuons_accept]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__veto: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(vetoMuons)>0 && minDeltaR2many(Muon_eta[vetoMuons]\,Muon_phi[vetoMuons]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__trackerOrGlobal: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_trackerOrGlobal)>0 && minDeltaR2many(Muon_eta[goodMuons_trackerOrGlobal]\,Muon_phi[goodMuons_trackerOrGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

#bareMuon_pt_eta__trackerOrGlobalAndRecoPt15: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_trackerOrGlobalAndRecoPt15)>0 && minDeltaR2many(Muon_eta[goodMuons_trackerOrGlobal]\,Muon_phi[goodMuons_trackerOrGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

#bareMuon_pt_eta__trackerOrGlobalAndRecoPt15andSameCharge: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_trackerOrGlobalAndRecoPt15andSameCharge)>0 && minDeltaR2many(Muon_eta[goodMuons_trackerOrGlobal]\,Muon_phi[goodMuons_trackerOrGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__trackerOrGlobalAndStandalone: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_trackerOrGlobalAndStandalone)>0 && minDeltaR2many(Muon_standaloneEta[goodMuons_trackerOrGlobalAndStandalone]\,Muon_standalonePhi[goodMuons_trackerOrGlobalAndStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__basicTrackMatchedToTrackerOrGlobal: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrack_matchedTrackerOrGlobal)>0 && minDeltaR2many(Track_eta[basicTrack_matchedTrackerOrGlobal]\,Track_phi[basicTrack_matchedTrackerOrGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__basicTrackMatchedToStandalone: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrack_matchedStandalone)>0 && minDeltaR2many(Track_eta[basicTrack_matchedStandalone]\,Track_phi[basicTrack_matchedStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__basicTrackAllMatchedToStandalone: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrackAll_matchedStandalone)>0 && minDeltaR2many(Track_eta[basicTrackAll_matchedStandalone]\,Track_phi[basicTrackAll_matchedStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__standaloneMatchedToGlobal: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(standalone_matchedGlobal)>0 && minDeltaR2many(Muon_standaloneEta[standalone_matchedGlobal]\,Muon_standalonePhi[standalone_matchedGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__standaloneAndGlobal: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(standalone_isGlobal)>0 && minDeltaR2many(Muon_standaloneEta[standalone_isGlobal]\,Muon_standalonePhi[standalone_isGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__basicTrackMatchedToTrackerOrGlobalAnyCharge: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrack_matchedTrackerOrGlobalAnyCharge)>0 && minDeltaR2many(Track_eta[basicTrack_matchedTrackerOrGlobalAnyCharge]\,Track_phi[basicTrack_matchedTrackerOrGlobalAnyCharge]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__generalTrack: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrack)>0 && minDeltaR2many(Track_eta[basicTrack]\,Track_phi[basicTrack]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__generalTrackAll: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrackAll)>0 && minDeltaR2many(Track_eta[basicTrackAll]\,Track_phi[basicTrackAll]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__generalTrackAnyCharge: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrackAnyCharge)>0 && minDeltaR2many(Track_eta[basicTrackAnyCharge]\,Track_phi[basicTrackAnyCharge]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__tracker: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(Muon_isTracker)>0 && minDeltaR2many(Muon_eta[Muon_isTracker]\,Muon_phi[Muon_isTracker]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__global: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(Muon_isGlobal)>0 && minDeltaR2many(Muon_eta[Muon_isGlobal]\,Muon_phi[Muon_isGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__standalone: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(Muon_isStandalone)>0 && minDeltaR2many(Muon_standaloneEta[Muon_isStandalone]\,Muon_standalonePhi[Muon_isStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__idip: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_idip)>0 && minDeltaR2many(Muon_eta[goodMuons_idip]\,Muon_phi[goodMuons_idip]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__trig: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="((HLT_IsoTkMu24 || HLT_IsoMu24) && Sum(goodMuons_trig)>0 && minDeltaR2many(Muon_eta[goodMuons_trig]\,Muon_phi[goodMuons_trig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__trigNoBit: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_trig)>0 && minDeltaR2many(Muon_eta[goodMuons_trig]\,Muon_phi[goodMuons_trig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__iso: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_iso)>0 && minDeltaR2many(Muon_eta[goodMuons_iso]\,Muon_phi[goodMuons_iso]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__idipANDtrig: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="((HLT_IsoTkMu24 || HLT_IsoMu24) && Sum(goodMuons_idipANDtrig)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDtrig]\,Muon_phi[goodMuons_idipANDtrig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__idipANDtrigANDiso: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="((HLT_IsoTkMu24 || HLT_IsoMu24) && Sum(goodMuons_idipANDtrigANDiso)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDtrigANDiso]\,Muon_phi[goodMuons_idipANDtrigANDiso]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__idipANDisonotrig: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_idipANDisonotrig)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDisonotrig]\,Muon_phi[goodMuons_idipANDisonotrig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_pt_eta__idipANDtrigNoBit: GenPart_pt[bareMuonsCharge][0]\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,90,20,65 ; XTitle='bare muon #eta', YTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_idipANDtrig)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDtrig]\,Muon_phi[goodMuons_idipANDtrig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"


# phi vs eta

bareMuon_genZ_eta: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR'

bareMuon_genZ_eta__trackerOrGlobal: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(goodMuons_trackerOrGlobal)>0 && minDeltaR2many(Muon_eta[goodMuons_trackerOrGlobal]\,Muon_phi[goodMuons_trackerOrGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__trackerOrGlobalAndStandalone: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(goodMuons_trackerOrGlobalAndStandalone)>0 && minDeltaR2many(Muon_standaloneEta[goodMuons_trackerOrGlobalAndStandalone]\,Muon_standalonePhi[goodMuons_trackerOrGlobalAndStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__basicTrackMatchedToTrackerOrGlobal: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(basicTrack_matchedTrackerOrGlobal)>0 && minDeltaR2many(Track_eta[basicTrack_matchedTrackerOrGlobal]\,Track_phi[basicTrack_matchedTrackerOrGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__basicTrackMatchedToStandalone: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(basicTrack_matchedStandalone)>0 && minDeltaR2many(Track_eta[basicTrack_matchedStandalone]\,Track_phi[basicTrack_matchedStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__basicTrackAllMatchedToStandalone: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(basicTrackAll_matchedStandalone)>0 && minDeltaR2many(Track_eta[basicTrackAll_matchedStandalone]\,Track_phi[basicTrackAll_matchedStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__standaloneAndGlobal: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(standalone_isGlobal)>0 && minDeltaR2many(Muon_standaloneEta[standalone_isGlobal]\,Muon_standalonePhi[standalone_isGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__generalTrack: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(basicTrack)>0 && minDeltaR2many(Track_eta[basicTrack]\,Track_phi[basicTrack]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__generalTrackAll: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(basicTrackAll)>0 && minDeltaR2many(Track_eta[basicTrackAll]\,Track_phi[basicTrackAll]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__tracker: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(Muon_isTracker)>0 && minDeltaR2many(Muon_eta[Muon_isTracker]\,Muon_phi[Muon_isTracker]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__global: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(Muon_isGlobal)>0 && minDeltaR2many(Muon_eta[Muon_isGlobal]\,Muon_phi[Muon_isGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__standalone: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(Muon_isStandalone)>0 && minDeltaR2many(Muon_standaloneEta[Muon_isStandalone]\,Muon_standalonePhi[Muon_isStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__idip: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(goodMuons_idip)>0 && minDeltaR2many(Muon_eta[goodMuons_idip]\,Muon_phi[goodMuons_idip]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__idipANDtrig: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="((HLT_IsoTkMu24 || HLT_IsoMu24) && Sum(goodMuons_idipANDtrig)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDtrig]\,Muon_phi[goodMuons_idipANDtrig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__idipANDtrigANDiso: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="((HLT_IsoTkMu24 || HLT_IsoMu24) && Sum(goodMuons_idipANDtrigANDiso)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDtrigANDiso]\,Muon_phi[goodMuons_idipANDtrigANDiso]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_genZ_eta__idipANDisonotrig: GenVtx_z\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-12.5,12.5 ; XTitle='bare muon #eta', YTitle='Gen vertex Z (cm)', Legend='TR', AddWeight="(Sum(goodMuons_idipANDisonotrig)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDisonotrig]\,Muon_phi[goodMuons_idipANDisonotrig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"


#### upar vs pt

bareMuon_upar_pt: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR'

bareMuon_upar_eta: recoilProjection\:GenPart_eta[bareMuonsCharge][0]: 48,-2.4,2.4,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon #eta', Legend='TR'

bareMuon_upar_pt__veto: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(vetoMuons)>0 && minDeltaR2many(Muon_eta[vetoMuons]\,Muon_phi[vetoMuons]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__trackerOrGlobal: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_trackerOrGlobal)>0 && minDeltaR2many(Muon_eta[goodMuons_trackerOrGlobal]\,Muon_phi[goodMuons_trackerOrGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__trackerOrGlobalAndStandalone: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_trackerOrGlobalAndStandalone)>0 && minDeltaR2many(Muon_standaloneEta[goodMuons_trackerOrGlobalAndStandalone]\,Muon_standalonePhi[goodMuons_trackerOrGlobalAndStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__basicTrackMatchedToTrackerOrGlobal: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrack_matchedTrackerOrGlobal)>0 && minDeltaR2many(Track_eta[basicTrack_matchedTrackerOrGlobal]\,Track_phi[basicTrack_matchedTrackerOrGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__basicTrackMatchedToStandalone: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrack_matchedStandalone)>0 && minDeltaR2many(Track_eta[basicTrack_matchedStandalone]\,Track_phi[basicTrack_matchedStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__basicTrackAllMatchedToStandalone: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrackAll_matchedStandalone)>0 && minDeltaR2many(Track_eta[basicTrackAll_matchedStandalone]\,Track_phi[basicTrackAll_matchedStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__standaloneMatchedToGlobal: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(standalone_matchedGlobal)>0 && minDeltaR2many(Muon_standaloneEta[standalone_matchedGlobal]\,Muon_standalonePhi[standalone_matchedGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__standaloneAndGlobal: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(standalone_isGlobal)>0 && minDeltaR2many(Muon_standaloneEta[standalone_isGlobal]\,Muon_standalonePhi[standalone_isGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__generalTrack: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrack)>0 && minDeltaR2many(Track_eta[basicTrack]\,Track_phi[basicTrack]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__generalTrackAll: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(basicTrackAll)>0 && minDeltaR2many(Track_eta[basicTrackAll]\,Track_phi[basicTrackAll]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__tracker: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(Muon_isTracker)>0 && minDeltaR2many(Muon_eta[Muon_isTracker]\,Muon_phi[Muon_isTracker]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__global: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(Muon_isGlobal)>0 && minDeltaR2many(Muon_eta[Muon_isGlobal]\,Muon_phi[Muon_isGlobal]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__standalone: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(Muon_isStandalone)>0 && minDeltaR2many(Muon_standaloneEta[Muon_isStandalone]\,Muon_standalonePhi[Muon_isStandalone]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__idip: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_idip)>0 && minDeltaR2many(Muon_eta[goodMuons_idip]\,Muon_phi[goodMuons_idip]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__trig: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="((HLT_IsoTkMu24 || HLT_IsoMu24) && Sum(goodMuons_trig)>0 && minDeltaR2many(Muon_eta[goodMuons_trig]\,Muon_phi[goodMuons_trig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__iso: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_iso)>0 && minDeltaR2many(Muon_eta[goodMuons_iso]\,Muon_phi[goodMuons_iso]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__idipANDtrig: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="((HLT_IsoTkMu24 || HLT_IsoMu24) && Sum(goodMuons_idipANDtrig)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDtrig]\,Muon_phi[goodMuons_idipANDtrig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__idipANDtrigANDiso: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="((HLT_IsoTkMu24 || HLT_IsoMu24) && Sum(goodMuons_idipANDtrigANDiso)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDtrigANDiso]\,Muon_phi[goodMuons_idipANDtrigANDiso]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"

bareMuon_upar_pt__idipANDisonotrig: recoilProjection\:GenPart_pt[bareMuonsCharge][0]: 45,20,65,100,-60,140 ; YTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)', XTitle='bare muon p_{T} (GeV)', Legend='TR', AddWeight="(Sum(goodMuons_idipANDisonotrig)>0 && minDeltaR2many(Muon_eta[goodMuons_idipANDisonotrig]\,Muon_phi[goodMuons_idipANDisonotrig]\,GenPart_eta[bareMuonsCharge][0]\,GenPart_phi[bareMuonsCharge][0]) < 0.01)"





#nominal_: Muon_pt[goodMuons][0]\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,33,24,57; XTitle='Muon #eta', YTitle='Muon p_{T} (GeV)' 

#muPtScaleTestWmass_: indices(24,1)\:customPtTest\:scalarToRVec(Muon_eta[goodMuonsCharge][0],24) : 48,-2.4,2.4,33,24,57,24,0.5,24.5; XTitle='Muon #eta', YTitle='Muon p_{T} (GeV)', ZTitle='pt scale nuisance index', ProcessRegexp='W.*|Z.*|Top|Diboson', ReplaceCutByName="accept->valueInsideRange(customPtTest\,26\,55)"

nominal_: Muon_pt[goodMuons][0]+29.0*regionIsoMt(Muon_pfRelIso04_all[goodMuons][0]<0.15,transverseMass<40)\:Muon_eta[goodMuonsCharge][0]: 48,-2.4,2.4,116,26,142; XTitle='Muon #eta', YTitle='Muon p_{T} (GeV)' 

muPtScaleTestWmass_: indices(24,1)\:customPtTest+29.0*regionIsoMt(Muon_pfRelIso04_all[goodMuons][0]<0.15,transverseMass<40)\:scalarToRVec(Muon_eta[goodMuonsCharge][0],24) : 48,-2.4,2.4,116,26,142,24,0.5,24.5; XTitle='Muon #eta', YTitle='Muon p_{T} (GeV)', ZTitle='pt scale nuisance index', ProcessRegexp='W.*|Z.*|Top|Diboson', ReplaceCutByName="accept->valueInsideRange(customPtTest\,26\,55)"


uPar: recoilProjection: 100,-60,140; XTitle='u_{par}[Z_{preFSR}*lep_{bare}] (GeV)'
ZphiPreFSR: phiVgen: 64,-3.2,3.2; XTitle='Z_{preFSR} #phi'
ZbareMuonDeltaphi: deltaPhi(GenPart_phi[bareMuonsCharge][0],phiVgen): 64,-3.2,3.2; XTitle='#Delta#phi(Z_{preFSR}\,bare muon)'
VbareMuonDeltaphi: deltaPhi(GenPart_phi[bareMuonsCharge][0],phiVgen): 64,-3.2,3.2; XTitle='#Delta#phi(V_{preFSR}\,bare muon)'
bareMuonPhi: GenPart_phi[bareMuonsCharge][0]: 64,-3.2,3.2; XTitle='Bare muon #phi'

